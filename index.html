<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
  "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
  <meta content="text/html; charset=UTF-8" http-equiv="Content-Type" />

  <title>ontopia-tldr Application documentation (v0.0.3)</title>

  <link type="text/css" media="screen" href="rdoc.css" rel="stylesheet" />

  <script src="js/jquery.js" type="text/javascript" charset="utf-8"></script>
  <script src="js/thickbox-compressed.js" type="text/javascript" charset="utf-8"></script>
  <script src="js/quicksearch.js" type="text/javascript" charset="utf-8"></script>
  <script src="js/darkfish.js" type="text/javascript" charset="utf-8"></script>

</head>
<body class="indexpage">

  
  <h1>ontopia-tldr Application documentation (v0.0.3)</h1>

  
  <div id="main">
    

<h2>VERSION</h2>

<p>This documentation refers to ontopia-tldr version 0.0.3</p>

<h2>DESCRIPTION</h2>

<p><a href="Ontopia/TLDR.html">Ontopia::TLDR</a> is an attempt at bridging the
gap between the worlds of formal knowledge representation (ontologies,
topic maps, etc.) and bibliographic document retrieval (bibliographic
databases). It allows for retrieving documents from bibliographic databases
(currently, only <a href="http://progris.de">Midos</a> databases are
supported) by means of <a
href="http://ontopia.net/omnigator/docs/query/tutorial.html">tolog</a>, <a
href="http://ontopia.net">Ontopia's</a> topic map query language.</p>

<h3>Deployment</h3>

<p><a href="Ontopia/TLDR.html">Ontopia::TLDR</a> comes as a Sinatra
application, so all the standard deployment options apply (rackup, <a
href="https://www.phusionpassenger.com/">Passenger</a>, etc.). However, in
order to allow for maximum flexibility, you need to supply your own
<tt>config.ru</tt> file; e.g. (see <a
href="Ontopia/TLDR.html">Ontopia::TLDR</a> for available options):</p>

<pre>require 'ontopia/tldr'

Ontopia::TLDR.set(
  dbm_file: File.expand_path('../tldr.dbm', __FILE__),
  xtm_file: File.expand_path('../tldr.xtm', __FILE__),

  document_keys: %w[YOUR DOCUMENT KEYS],
  topic_keys:    %w[YOUR TOPIC KEYS],

  title: 'YOUR TITLE'
)

run Ontopia::TLDR</pre>

<p>Assuming the following directory layout:</p>

<pre>/srv/tldr
  |
  +-- config.ru
  |
  +-- tldr.dbm
  |
  +-- tldr.xtm
  |
  +-- tmp/</pre>

<p>Place your database and topic map files there and adjust their paths in the
<tt>config.ru</tt> file. The <tt>tmp/</tt> directory is used by Passenger
for the <tt>restart.txt</tt> file.</p>

<p>To deploy <a href="Ontopia/TLDR.html">Ontopia::TLDR</a> with Passenger on
Apache, create a symlink in the DocumentRoot pointing to the app’s
<tt>public/</tt> directory (this example makes use of <a
href="http://blackwinter.github.com/current_gem">current_gem</a>; adjust
the paths according to your environment):</p>

<pre>/var/www
  |
  +-- tldr -&gt; /usr/local/jruby/lib/ruby/gems/shared/current/ontopia-tldr/lib/ontopia/tldr/public</pre>

<p>Then put the following snippet in Apache’s VirtualHost configuration:</p>

<pre>&lt;VirtualHost *:80&gt;
  ...

  RackBaseURI /tldr
  &lt;Directory /var/www/tldr&gt;
    Options -MultiViews
    PassengerAppRoot /srv/tldr                # &lt;-- This (non-standard) line is important
    PassengerRuby /usr/local/jruby/bin/jruby  # &lt;-- And this one sets the Ruby interpreter to JRuby
  &lt;/Directory&gt;
&lt;/VirtualHost&gt;</pre>

<h2>SUPPORTED PLATFORMS</h2>

<p><a href="Ontopia/TLDR.html">Ontopia::TLDR</a> requires <a
href="http://jruby.org">JRuby</a>. It has been tested with jruby 1.7.4
(1.9.3p392) on OpenJDK 64-Bit Server VM 1.6.0_27-b27 [linux-amd64].</p>

<h2>LINKS</h2>

<p></p>
<table class="rdoc-list"><tr><td class="rdoc-term"><p>Documentation</p></td>
<td>
<p><a
href="http://blackwinter.github.com/ontopia-tldr">blackwinter.github.com/ontopia-tldr</a></p>
</td></tr><tr><td class="rdoc-term"><p>Source code</p></td>
<td>
<p><a
href="http://github.com/blackwinter/ontopia-tldr">github.com/blackwinter/ontopia-tldr</a></p>
</td></tr><tr><td class="rdoc-term"><p>RubyGem</p></td>
<td>
<p><a
href="http://rubygems.org/gems/ontopia-tldr">rubygems.org/gems/ontopia-tldr</a></p>
</td></tr><tr><td class="rdoc-term"><p><a href="Ontopia.html">Ontopia</a></p></td>
<td>
<p><a href="http://ontopia.net/">ontopia.net/</a></p>
</td></tr><tr><td class="rdoc-term"><p>Demo</p></td>
<td>
<p><a href="http://ixtrieve.fh-koeln.de/ghn">ixtrieve.fh-koeln.de/ghn</a></p>
</td></tr></table>

<h2>AUTHORS</h2>
<ul><li>
<p>Jens Wille &lt;<a
href="mailto:jens.wille@gmail.com">jens.wille@gmail.com</a>&gt;</p>
</li></ul>

<h2>LICENSE AND COPYRIGHT</h2>

<p>Copyright (C) 2013 Jens Wille</p>

<p>ontopia-tldr is free software: you can redistribute it and/or modify it
under the terms of the GNU Affero General Public License as published by
the Free Software Foundation, either version 3 of the License, or (at your
option) any later version.</p>

<p>ontopia-tldr is distributed in the hope that it will be useful, but WITHOUT
ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero General Public License
for more details.</p>

<p>You should have received a copy of the GNU Affero General Public License
along with ontopia-tldr. If not, see &lt;<a
href="http://www.gnu.org/licenses/">www.gnu.org/licenses/</a>&gt;.</p>

  </div>
  

  
  
  <h2>Files</h2>
  <ul>
    
      <li class="file"><a href="COPYING.html">COPYING</a></li>
    
      <li class="file"><a href="ChangeLog.html">ChangeLog</a></li>
    
      <li class="file"><a href="README.html">README</a></li>
    
  </ul>
  

  <h2 id="classes">Classes/Modules</h2>
  <ul>
    
    <li class="module"><a href="Ontopia.html">Ontopia</a></li>
    
    <li class="class"><a href="Ontopia/TLDR.html">Ontopia::TLDR</a></li>
    
    <li class="module"><a href="Ontopia/TLDR/Version.html">Ontopia::TLDR::Version</a></li>
    
  </ul>

  <h2 id="methods">Methods</h2>
  <ul>
    
      <li><a href="Ontopia/TLDR.html#method-c-jget">::jget &mdash; Ontopia::TLDR</a></li>
    
      <li><a href="Ontopia/TLDR.html#method-c-jpost">::jpost &mdash; Ontopia::TLDR</a></li>
    
      <li><a href="Ontopia/TLDR.html#method-c-jroute">::jroute &mdash; Ontopia::TLDR</a></li>
    
      <li><a href="Ontopia/TLDR/Version.html#method-c-to_a">::to_a &mdash; Ontopia::TLDR::Version</a></li>
    
      <li><a href="Ontopia/TLDR/Version.html#method-c-to_s">::to_s &mdash; Ontopia::TLDR::Version</a></li>
    
      <li><a href="Ontopia/TLDR.html#method-i-_a">#_a &mdash; Ontopia::TLDR</a></li>
    
      <li><a href="Ontopia/TLDR.html#method-i-_li">#_li &mdash; Ontopia::TLDR</a></li>
    
      <li><a href="Ontopia/TLDR.html#method-i-_tag">#_tag &mdash; Ontopia::TLDR</a></li>
    
      <li><a href="Ontopia/TLDR.html#method-i-_ul">#_ul &mdash; Ontopia::TLDR</a></li>
    
      <li><a href="Ontopia/TLDR.html#method-i-do_file">#do_file &mdash; Ontopia::TLDR</a></li>
    
      <li><a href="Ontopia/TLDR.html#method-i-do_json">#do_json &mdash; Ontopia::TLDR</a></li>
    
      <li><a href="Ontopia/TLDR.html#method-i-doc_to_s">#doc_to_s &mdash; Ontopia::TLDR</a></li>
    
      <li><a href="Ontopia/TLDR.html#method-i-get_documents">#get_documents &mdash; Ontopia::TLDR</a></li>
    
      <li><a href="Ontopia/TLDR.html#method-i-get_topic_maps">#get_topic_maps &mdash; Ontopia::TLDR</a></li>
    
      <li><a href="Ontopia/TLDR.html#method-i-get_topics">#get_topics &mdash; Ontopia::TLDR</a></li>
    
      <li><a href="Ontopia/TLDR.html#method-i-link_to_document">#link_to_document &mdash; Ontopia::TLDR</a></li>
    
      <li><a href="Ontopia/TLDR.html#method-i-link_to_topic">#link_to_topic &mdash; Ontopia::TLDR</a></li>
    
      <li><a href="Ontopia/TLDR.html#method-i-render_documents">#render_documents &mdash; Ontopia::TLDR</a></li>
    
      <li><a href="Ontopia/TLDR.html#method-i-render_topics">#render_topics &mdash; Ontopia::TLDR</a></li>
    
      <li><a href="Ontopia/TLDR.html#method-i-render_topics_hash">#render_topics_hash &mdash; Ontopia::TLDR</a></li>
    
      <li><a href="Ontopia/TLDR.html#method-i-sample_link">#sample_link &mdash; Ontopia::TLDR</a></li>
    
      <li><a href="Ontopia/TLDR.html#method-i-topic_to_s">#topic_to_s &mdash; Ontopia::TLDR</a></li>
    
  </ul>

  <div id="validator-badges">
    <p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
    <p><small>Generated with the <a href="http://deveiate.org/projects/Darkfish-Rdoc/">Darkfish
      Rdoc Generator</a> 2</small>.</p>
  </div>
</body>
</html>
